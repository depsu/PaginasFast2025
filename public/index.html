<!DOCTYPE html>
<html lang="es">

<head>

    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-586BLT8Z');</script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desarrollo de p치ginas Webs - Aparece en Google</title>
    <meta name="description"
        content="Creamos p치ginas para que salgas de los primeros en Google. Atrae m치s clientes y hace crecer tu negocio ahora.">

    <link rel="icon" type="image/png" href="/favicon.png">
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->

    <script src="https://unpkg.com/feather-icons" defer></script>


    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        }

        .gradient-bg {
            background: linear-gradient(135deg, #f5f7fa 0, #c3cfe2 100%)
        }

        .cta-button {
            transition: .3s
        }

        .chat-opener,
        .chat-window {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            transition: transform .3s, opacity .3s;
            display: flex
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, .15)
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, .12)
        }

        html {
            scroll-behavior: smooth
        }

        .loader {
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, .3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: 1s ease-in-out infinite spin
        }

        .loader-dark {
            border: 3px solid rgba(0, 0, 0, .2);
            border-top-color: #3b82f6
        }

        @keyframes spin {
            to {
                transform: rotate(360deg)
            }
        }

        .chat-opener {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #3b82f6, #6d28d9);
            border-radius: 50%;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, .2);
            cursor: pointer;
            z-index: 1000
        }

        .chat-opener:hover {
            transform: scale(1.1)
        }

        .chat-window {
            width: 90%;
            max-width: 527px;
            height: 70vh;
            max-height: 600px;
            background-color: #111827;
            border: 1px solid #374151;
            border-radius: 1.5rem;
            overflow: hidden;
            flex-direction: column;
            box-shadow: 0 20px 30px rgba(0, 0, 0, .3);
            transform: translateY(20px) scale(.95);
            opacity: 0;
            z-index: 999;
            pointer-events: none
        }

        .chat-window.open {
            transform: translateY(0) scale(1);
            opacity: 1;
            pointer-events: auto
        }

        .chat-opener.hidden {
            transform: scale(0);
            opacity: 0
        }

        .chat-header {
            background-color: #1f2937;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #374151;
            color: #fff
        }

        .chat-header-title {
            font-weight: 700
        }

        .chat-close-btn {
            background: 0 0;
            border: none;
            color: #9ca3af;
            font-size: 1.5rem;
            cursor: pointer
        }

        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: .75rem
        }

        .chat-bubble {
            max-width: 85%;
            padding: .6rem 1rem;
            border-radius: 1.25rem;
            word-wrap: break-word;
            line-height: 1.5;
            color: #fff
        }

        .user-bubble {
            background-color: #3b82f6;
            border-bottom-right-radius: .375rem;
            align-self: flex-end
        }

        .bot-bubble {
            background-color: #374151;
            color: #d1d5db;
            border-bottom-left-radius: .375rem;
            align-self: flex-start
        }

        .summary-notification {
            background-color: #4f46e520;
            color: #c7d2fe;
            border: 1px solid #4f46e5;
            border-radius: .5rem;
            padding: 1rem;
            font-size: .9em;
            text-align: left
        }

        .chat-input-form {
            display: flex;
            gap: .5rem;
            padding: .75rem;
            border-top: 1px solid #374151;
            background-color: #1f2937
        }

        .chat-input {
            flex-grow: 1;
            background-color: #374151;
            border: 1px solid #4b5563;
            border-radius: 9999px;
            padding: .75rem 1rem;
            color: #fff;
            outline: 0
        }

        .chat-input:focus {
            border-color: #3b82f6
        }

        .chat-send-btn {
            background-color: #3b82f6;
            color: #fff;
            border-radius: 50%;
            padding: .75rem;
            border: none;
            cursor: pointer;
            transition: background-color .2s;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px
        }

        .chat-send-btn:hover {
            background-color: #2563eb
        }

        .chat-send-btn:disabled {
            background-color: #374151;
            cursor: not-allowed
        }

        .modal {
            transition: opacity .3s
        }

        .testimonial-card {
            background-color: #fff;
            border: 1px solid #e5e7eb;
            border-radius: .75rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06)
        }

        .faq-item {
            display: grid;
            grid-template-rows: 0fr;
            transition: grid-template-rows .3s ease-in-out
        }

        .faq-item[open] {
            grid-template-rows: 1fr
        }

        .faq-content {
            overflow: hidden
        }

        .faq-summary {
            list-style: none
        }

        .faq-summary::-webkit-details-marker {
            display: none
        }

        .faq-icon {
            transition: transform .3s ease-in-out
        }

        .faq-item[open]>.faq-summary .faq-icon {
            transform: rotate(180deg)
        }

        .quick-reply-btn {
            background-color: #4f46e5;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 9999px;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .quick-reply-btn:hover {
            background-color: #4338ca;
        }

        @media (max-width: 640px) {
            .chat-window {
                width: calc(100% - 20px);
                max-width: 100%;
                margin: 0 10px;
                height: 100dvh;
                max-height: 100dvh;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
            }

            .chat-opener,
            .chat-window {
                /* Ajustamos la posici칩n a 1rem para que no quede tan pegado al borde */
                bottom: 1rem;
            }

            body:has(#chat-window.open) {
                overflow: hidden;
            }
        }


        /* --- NUEVO BOT칍N FLOTANTE DE WHATSAPP --- */
        .floating-whatsapp-btn {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            width: 60px;
            height: 60px;
            background-color: #25d366;
            /* Verde WhatsApp */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.25);
            z-index: 100;
            animation: pulse-whatsapp 2s infinite;
            transition: transform 0.3s ease;
        }

        .floating-whatsapp-btn:hover {
            transform: scale(1.1);
            animation: none;
            /* Detiene la animaci칩n al pasar el mouse */
        }

        @keyframes pulse-whatsapp {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7);
            }

            70% {
                transform: scale(1);
                box-shadow: 0 0 0 12px rgba(37, 211, 102, 0);
            }

            100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(37, 211, 102, 0);
            }
        }

        /* --- C칍DIGO PARA LA FRANJA SUPERIOR DE OFERTA --- */
        /* --- C칍DIGO PARA LA FRANJA SUPERIOR DE OFERTA (CORREGIDO) --- */
        .promo-bar {
            background: linear-gradient(45deg, #3b82f6, #6d28d9);
            color: white;
            padding: 0.75rem 0;
            text-align: center;
            font-weight: 600;
            font-size: 0.9em;
            overflow: hidden;
            white-space: nowrap;
            z-index: 100;
            /* Lo dejamos por si acaso, pero no es crucial aqu칤 */
        }

        .promo-text {
            display: inline-block;
            animation: marquee 30s linear infinite;
            /* Aumentamos la duraci칩n para que no sea muy r치pido */
        }

        .promo-text span {
            padding: 0 2rem;
            /* A침ade un espacio entre las repeticiones del texto */
        }

        @keyframes marquee {
            0% {
                transform: translateX(0%);
            }

            100% {
                transform: translateX(-50%);
                /* Se mueve exactamente la mitad para un bucle perfecto */
            }
        }

        /* A침ade esto al final de tu CSS en la etiqueta <style> */
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: .6rem 1rem;
        }

        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: #9ca3af;
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .typing-indicator span:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes bounce {

            0%,
            80%,
            100% {
                transform: scale(0);
            }

            40% {
                transform: scale(1.0);
            }
        }
    </style>



    <link href="/output.css" rel="stylesheet">

</head>

<body class="bg-white text-gray-800">
    <div class="promo-bar">
        <div class="promo-text">
            <span>游꿀 춰OFERTA SEPTIEMBRE! 30% DE DESCUENTO en todos los planes. Comienza tu proyecto con solo $19.990.
                춰칔ltimos d칤as! 游꿀</span>
            <span>游꿀 춰OFERTA SEPTIEMBRE! 30% DE DESCUENTO en todos los planes. Comienza tu proyecto con solo $19.990.
                춰칔ltimos d칤as! 游꿀</span>
        </div>
    </div>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-586BLT8Z" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-gray-900">
                <span class="text-blue-600">Paginas</span>Fast.
            </a>
            <div class="hidden md:flex space-x-8 items-center">
                <a href="#servicios" class="text-gray-600 hover:text-blue-600 font-medium">Servicios</a>
                <a href="#nuestro-compromiso" class="text-gray-600 hover:text-blue-600 font-medium">Nuestro
                    Compromiso</a>
                <a href="#portafolio" class="text-gray-600 hover:text-blue-600 font-medium">Proyectos</a>
                <a href="#contacto" id="nav-contact-btn"
                    class="bg-blue-600 text-white px-5 py-2 rounded-full font-semibold hover:bg-blue-700 transition-colors cursor-pointer">Cotizar
                    P치gina Web</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden" aria-label="Abrir men칰 de navegaci칩n">
                <i data-feather="menu" class="h-6 w-6 text-gray-800"></i>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#servicios" class="block py-2 text-gray-600 hover:text-blue-600">Servicios</a>
            <a href="#nuestro-compromiso" class="block py-2 text-gray-600 hover:text-blue-600">Nuestro Compromiso</a>
            <a href="#portafolio" class="block py-2 text-gray-600 hover:text-blue-600">Proyectos</a>
            <a href="#contacto" a
                class="block mt-2 bg-blue-600 text-white text-center px-5 py-2 rounded-full font-semibold hover:bg-blue-700 transition-colors">Cotizar
                P치gina Web</a>
        </div>
    </header>

    <main class="gradient-bg">
        <section class="container mx-auto px-6 py-20 md:py-32 text-center">
            <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 leading-tight mb-4">
                P치ginas Web para Pymes <span class="text-blue-600">Crece con nosotros</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-8">
                Creamos p치ginas webs, para impulsar tu pyme, <strong>Mostrarle al mundo lo que Tu empresa o servicio
                    Vale y puede
                    Ofrecer,</strong> posicionandote en Google para conseguir m치s clientes.</p>
            <a href="#servicios"
                class="cta-button inline-block bg-blue-600 text-white px-10 py-4 rounded-full font-bold text-lg shadow-lg hover:bg-blue-700">
                Quiero m치s Clientes
            </a>
        </section>
    </main>

    <section id="como-vender-mas" class="py-20 bg-white">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900">La Ecuaci칩n es Simple: Mejor Web = M치s Clientes
            </h2>
            <p class="text-gray-600 mt-2 max-w-2xl mx-auto pb-8">M치s clientes = M치s dinero. No es magia, es estrategia.
                tu p치gina r치pida y profesional generar치 confianza, te posicionar치 como profesional y guiar치 a los
                visitantes a
                convertirse en clientes.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
                <div class="text-center">
                    <div class="flex justify-center items-center mb-4">
                        <div class="bg-blue-100 rounded-full p-4">
                            <i data-feather="clock" class="h-8 w-8 text-blue-600"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Atrae Clientes, No Solo Visitas</h3>
                    <p class="text-gray-600">
                        Tu p치gina estar치 capturando el inter칠s de tus futuros clientes y crecer치s como una bola de
                        nieve.
                    </p>
                </div>

                <div class="text-center">
                    <div class="flex justify-center items-center mb-4">
                        <div class="bg-blue-100 rounded-full p-4">
                            <i data-feather="award" class="h-8 w-8 text-blue-600"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Proyecta Autoridad y Confianza</h3>
                    <p class="text-gray-600">
                        La primera impresi칩n es crucial. Un dise침o profesional y una carga r치pida demuestran que eres un
                        experto serio, generando la confianza necesaria para atraer a ese cliente.
                    </p>
                </div>

                <div class="text-center">
                    <div class="flex justify-center items-center mb-4">
                        <div class="bg-blue-100 rounded-full p-4">
                            <i data-feather="dollar-sign" class="h-8 w-8 text-blue-600"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Convierte Visitas en Dinero</h3>
                    <p class="text-gray-600">
                        Cada bot칩n y formulario est치 optimizado para que el cliente <b>no abandone y te cont치cte.</b>
                        Hacemos que para tus visitantes sea
                        incre칤blemente f치cil y tentador contactarte o comprar.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="servicios" class="py-20 bg-gray-50">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Planes con Descuento de Septiembre</h2>
                <p class="text-gray-600 mt-2">No pierdas el tiempo. Asegura tu 30% de descuento y empieza con solo
                    $19.990.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

                <div
                    class="service-card bg-white rounded-xl p-8 shadow-md transition-all duration-300 border border-gray-200 flex flex-col hover:shadow-xl hover:-translate-y-2">
                    <div class="flex justify-between items-start">
                        <div class="text-blue-600 mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="h-10 w-10">
                                <path
                                    d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3">
                                </path>
                                <path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"></path>
                                <circle cx="15" cy="9" r="1"></circle>
                            </svg>
                        </div>
                        <span class="bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full">-30% OFF</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Web Emprendedor</h3>
                    <div class="my-4 text-center">
                        <span class="text-2xl font-semibold text-gray-400 line-through mr-2">$79.000</span>
                        <span class="text-4xl font-extrabold text-gray-900">$55.000</span>
                        <p class="text-gray-500 text-sm">CLP / Pago 칰nico</p>
                    </div>
                    <p class="text-gray-600 mb-6 flex-grow">Apostamos por que tus servicios ser치n unicos, <b>debes dar
                            el salto ahora,</b> junto a nosotros</p>
                    <ul class="text-gray-700 space-y-3 mb-8">
                        <li class="flex items-center font-bold"><i data-feather="zap"
                                class="h-5 w-5 text-yellow-500 mr-2 flex-shrink-0"></i>Abono inicial de solo $19.990
                        </li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-500 mr-2 flex-shrink-0"></i>3 a 5 Secciones estrat칠gicas</li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-500 mr-2 flex-shrink-0"></i>Dise침o que se adapta a m칩viles
                        </li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-500 mr-2 flex-shrink-0"></i>Formulario para recibir contactos
                            y whatsapp</li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-500 mr-2 flex-shrink-0"></i>Optimizaci칩n para que te
                            encuentren en Google</li>
                    </ul>
                    <button
                        class="chat-cta w-full mt-auto text-center bg-blue-100 text-blue-700 font-semibold py-3 rounded-lg hover:bg-blue-200 transition-colors"
                        data-plan="Web Emprendedor">춰Quiero Empezar!
                    </button>
                </div>

                <div
                    class="service-card bg-blue-600 text-white rounded-xl p-8 shadow-xl transition-all duration-300 transform md:scale-105 flex flex-col hover:md:scale-110 hover:-translate-y-2">
                    <div class="flex justify-between items-start">
                        <div class="text-white mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="h-10 w-10">
                                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                            </svg>
                        </div>
                        <span class="bg-white text-red-500 text-xs font-bold px-3 py-1 rounded-full">-30% OFF</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Web Corporativa</h3>
                    <div class="my-4 text-center">
                        <span class="text-2xl font-semibold text-blue-200 line-through mr-2">$300.000</span>
                        <span class="text-4xl font-extrabold text-white">$210.000</span>
                        <p class="text-blue-50 text-sm">CLP / Pago 칰nico</p>
                    </div>
                    <p class="text-white mb-6 flex-grow">La soluci칩n definitiva para consolidar tu marca, dominar tu
                        mercado y convertir tu web en una m치quina de atraer clientes.</p>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center font-bold"><i data-feather="zap"
                                class="h-5 w-5 text-yellow-300 mr-2 flex-shrink-0"></i>Abono inicial de solo $19.990
                        </li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-300 mr-2 flex-shrink-0"></i>Hasta 10 secciones completas</li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-300 mr-2 flex-shrink-0"></i>Dise침o Premium a la medida de tu
                            marca</li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-300 mr-2 flex-shrink-0"></i>Blog para atraer y educar a tus
                            clientes</li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-300 mr-2 flex-shrink-0"></i>SEO Avanzado para superar a tu
                            competencia</li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-300 mr-2 flex-shrink-0"></i>ChatBot con IA</li>
                    </ul>
                    <button
                        class="chat-cta w-full mt-auto text-center bg-white text-blue-600 font-bold py-3 rounded-lg hover:bg-gray-100 transition-colors"
                        data-plan="Web Corporativa">춰Quiero Este Plan!
                    </button>
                </div>

                <div
                    class="service-card bg-white rounded-xl p-8 shadow-md transition-all duration-300 border border-gray-200 flex flex-col hover:shadow-xl hover:-translate-y-2">
                    <div class="flex justify-between items-start">
                        <div class="text-blue-600 mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="h-10 w-10">
                                <circle cx="9" cy="21" r="1"></circle>
                                <circle cx="20" cy="21" r="1"></circle>
                                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                            </svg>
                        </div>
                        <span class="bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full">-30% OFF</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Tienda Online</h3>
                    <div class="my-4 text-center">
                        <span class="text-2xl font-semibold text-gray-400 line-through mr-2">$300.000</span>
                        <span class="text-4xl font-extrabold text-gray-900">$210.000</span>
                        <p class="text-gray-500 text-sm">CLP / Pago 칰nico</p>
                    </div>
                    <p class="text-gray-600 mb-6 flex-grow">Vende tus productos sin parar con una tienda online robusta,
                        segura y optimizada para una experiencia de compra f치cil.</p>
                    <ul class="text-gray-700 space-y-3 mb-8">
                        <li class="flex items-center font-bold"><i data-feather="zap"
                                class="h-5 w-5 text-yellow-500 mr-2 flex-shrink-0"></i>Abono inicial de solo $19.990
                        </li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-500 mr-2 flex-shrink-0"></i>Cat치logo de productos ilimitado
                        </li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-500 mr-2 flex-shrink-0"></i>Integraci칩n con WebPay y
                            MercadoPago</li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-500 mr-2 flex-shrink-0"></i>Sistema para gestionar tu
                            inventario</li>
                        <li class="flex items-center"><i data-feather="check-circle"
                                class="h-5 w-5 text-green-500 mr-2 flex-shrink-0"></i>Carrito de compras f치cil de usar
                        </li>
                    </ul>
                    <button
                        class="chat-cta w-full mt-auto text-center bg-blue-100 text-blue-700 font-semibold py-3 rounded-lg hover:bg-blue-200 transition-colors"
                        data-plan="Tienda Online">Vender Online
                    </button>
                </div>
            </div>
        </div>
    </section>
    <section id="nuestro-compromiso" class="py-20 bg-gray-100">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/3 text-center">
                    <img loading="lazy" src="/image/logoPaginasFast.webp"
                        alt="Logo de PaginasFast, dise침o web r치pido en Chile"
                        class="rounded-full w-64 h-64 mx-auto shadow-xl border-4 border-white object-cover">
                </div>
                <div class="md:w-2/3">
                    <p class="text-blue-600 font-semibold mb-2">NO CREAMOS P츼GINAS, CREAMOS NEGOCIOS</p>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Dejar nuestra huella en el mundo,
                        haciendo crecer a las pymes en Chile</h2>
                    <p class="text-gray-600 mb-4 text-lg">
                        Hola, soy <span class="font-bold text-gray-800">Alejandro Rivera</span>, fundador de
                        PaginasFast. Mi
                        칰nica misi칩n es que tu inversi칩n en una p치gina web se traduzca en un salto para que tu negocio
                        crezca como una bola de nieve.
                    </p>
                    <p class="text-gray-600 mb-6">
                        Hay mucha gente haciando p치ginas Webs. Pero pocos que realmente entienden que una p치gina,
                        enfocada en posicionarse en Google y que la gente entre y disfrute estar en ella. hace 1.000
                        veces la diferencia.
                    </p>
                    <div class="border-l-4 border-blue-500 pl-4 bg-white p-4 rounded-r-lg">
                        <p class="text-gray-700 italic font-medium">"Cada segundo que un cliente potencial pasa en una
                            web lenta o confusa es dinero que pierdes. Me comprometo personalmente a entregarte un sitio
                            web tan r치pido y eficaz que cada visita cuente."</p>
                        <p class="font-semibold mt-2">- Alejandro Rivera, CEO de PaginasFast</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="testimonios" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Nuestros Clientes ya est치n Ganando M치s</h2>
                <p class="text-gray-600 mt-2">Y se t칰 el siguiente en tener los mejores resultados y dejar una rese침a.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

                <div class="testimonial-card flex flex-col">
                    <div class="flex items-center text-yellow-500 mb-2">
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                    </div>
                    <p class="text-gray-600 italic mb-4 flex-grow">"Desde que lanzamos la nueva web con PaginasFast, las
                        solicitudes de cotizaci칩n se triplicaron. La velocidad y el dise침o profesional realmente marcan
                        la diferencia."</p>
                    <div class="flex items-center mt-auto">
                        <img loading="lazy" class="w-12 h-12 rounded-full mr-4 bg-gray-200"
                            src="https://ui-avatars.com/api/?name=Carlos+Vega&background=0D8ABC&color=fff&size=128"
                            alt="Avatar de Carlos Vega">
                        <div>
                            <p class="font-bold text-gray-900">Carlos Vega</p>
                            <p class="text-sm text-gray-500">Gerente en Constructora Vega Ltda.</p>
                        </div>
                    </div>
                </div>

                <div class="testimonial-card flex flex-col">
                    <div class="flex items-center text-yellow-500 mb-2">
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                    </div>
                    <p class="text-gray-600 italic mb-4 flex-grow">"Estaba perdiendo clientes por mi antigua p치gina.
                        Alex y su equipo crearon una tienda online rapid칤sima que aument칩 mis ventas en un 40% el primer
                        mes. 춰Totalmente recomendado!"</p>
                    <div class="flex items-center mt-auto">
                        <img loading="lazy" class="w-12 h-12 rounded-full mr-4 bg-gray-200"
                            src="https://ui-avatars.com/api/?name=Ana+Fuentes&background=1E293B&color=fff&size=128"
                            alt="Avatar de Ana Fuentes">
                        <div>
                            <p class="font-bold text-gray-900">Ana Fuentes</p>
                            <p class="text-sm text-gray-500">Fundadora de "Moda con Sentido"</p>
                        </div>
                    </div>
                </div>

                <div class="testimonial-card flex flex-col">
                    <div class="flex items-center text-yellow-500 mb-2">
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                        <i data-feather="star" fill="currentColor" class="w-5 h-5"></i>
                    </div>
                    <p class="text-gray-600 italic mb-4 flex-grow">"El profesionalismo y el enfoque en resultados es de
                        otro nivel. Entendieron mi negocio y me entregaron justo la herramienta que necesitaba para
                        crecer."</p>
                    <div class="flex items-center mt-auto">
                        <img loading="lazy" class="w-12 h-12 rounded-full mr-4 bg-gray-200"
                            src="https://ui-avatars.com/api/?name=Javier+Torres&background=0D8ABC&color=fff&size=128"
                            alt="Avatar de Javier Torres">
                        <div>
                            <p class="font-bold text-gray-900">Javier Torres</p>
                            <p class="text-sm text-gray-500">Consultor de Negocios Independiente</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="portafolio" class="py-20 bg-gray-50">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Historias de 칄xito de Negocios Como el Tuyo
                </h2>
                <p class="text-gray-600 mt-2 max-w-2xl mx-auto">No solo creamos p치ginas web. Construimos herramientas
                    que ayudan a profesionales y pymes a crecer.</p>
            </div>

            <div class="max-w-4xl mx-auto grid grid-cols-2 md:grid-cols-3 gap-8 text-center mb-16">
                <div>
                    <h3 class="text-4xl font-extrabold text-blue-600">+50</h3>
                    <p class="text-gray-600 font-semibold">Proyectos Completados</p>
                </div>
                <div>
                    <h3 class="text-4xl font-extrabold text-blue-600">98%</h3>
                    <p class="text-gray-600 font-semibold">Clientes Satisfechos</p>
                </div>
                <div class="col-span-2 md:col-span-1">
                    <h3 class="text-4xl font-extrabold text-blue-600">+30%</h3>
                    <p class="text-gray-600 font-semibold">Aumento Promedio en Consultas</p>
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="group relative rounded-lg overflow-hidden shadow-lg">
                    <img loading="lazy" src="/image/abogados.webp"
                        alt="P치gina web profesional para un moderno estudio de abogados"
                        class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-6">
                        <div>
                            <h3 class="text-white text-2xl font-bold">Estudios de Abogados</h3>
                            <p class="text-blue-300 font-semibold">Resultado: Web corporativa que genera confianza y
                                captura consultas legales.</p>
                        </div>
                    </div>
                </div>
                <div class="group relative rounded-lg overflow-hidden shadow-lg">
                    <img loading="lazy" src="/image/sabor-espanol.webp" alt="P치gina web para restaurante"
                        class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-6">
                        <div>
                            <h3 class="text-white text-2xl font-bold">Restaurantes y cafeter칤as</h3>
                            <p class="text-blue-300 font-semibold">Resultado: P치gina con men칰 online y sistema de
                                reservas que aument칩 los pedidos.</p>
                        </div>
                    </div>
                </div>
                <div class="group relative rounded-lg overflow-hidden shadow-lg">
                    <img loading="lazy" src="/image/dental.webp" alt="P치gina web para consulta m칠dica"
                        class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-6">
                        <div>
                            <h3 class="text-white text-2xl font-bold">Consulta M칠dica</h3>
                            <p class="text-blue-300 font-semibold">Resultado: Sitio web profesional que permite a los
                                pacientes agendar horas f치cilmente.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contacto" class="py-20 gradient-bg">
        <div class="container mx-auto px-6 text-center">
            <div class="bg-white p-8 rounded-xl shadow-2xl inline-block">
                <div class="flex items-center justify-center space-x-2 text-yellow-500 mb-2">
                    <i data-feather="star" fill="currentColor"></i>
                    <i data-feather="star" fill="currentColor"></i>
                    <i data-feather="star" fill="currentColor"></i>
                    <i data-feather="star" fill="currentColor"></i>
                    <i data-feather="star" fill="currentColor"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-900">Garant칤a de Satisfacci칩n 100%</h3>
                <p class="text-gray-600 mt-1">No consideramos el proyecto terminado hasta que est칠s completamente feliz
                    con tu nueva web.</p>
            </div>

            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mt-8">쯃isto para que tu Negocio Despegue?</h2>
            <p class="text-gray-600 mt-2 max-w-2xl mx-auto">La consulta es gratis. El potencial de crecimiento,
                ilimitado. Hablemos.</p>
            <button id="open-modal-btn"
                class="mt-8 cta-button inline-block bg-blue-600 text-white px-10 py-4 rounded-full font-bold text-lg shadow-lg hover:bg-blue-700">
                Agendar Mi Llamada Estrat칠gica
            </button>
        </div>
    </section>




    <section id="faq" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Preguntas Frecuentes</h2>
                <p class="text-gray-600 mt-2">Respuestas a las dudas m치s comunes de nuestros clientes.</p>
            </div>

            <div class="max-w-3xl mx-auto space-y-4" id="faq-container">

                <details class="border rounded-lg overflow-hidden faq-item">
                    <summary
                        class="flex items-center justify-between w-full p-4 font-semibold cursor-pointer faq-summary">
                        <span>쯇or qu칠 mi negocio necesita una p치gina web?</span>
                        <svg class="w-5 h-5 faq-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                        </svg>
                    </summary>
                    <div class="faq-content">
                        <div class="px-4 pb-4 text-gray-700">
                            Una p치gina web es tu vendedor 24/7. Te permite atraer clientes fuera de tu horario y
                            ubicaci칩n, genera confianza profesional y te da una plataforma propia para mostrar tus
                            productos o servicios sin depender de las comisiones o reglas de redes sociales.
                        </div>
                    </div>
                </details>

                <details class="border rounded-lg overflow-hidden faq-item">
                    <summary
                        class="flex items-center justify-between w-full p-4 font-semibold cursor-pointer faq-summary">
                        <span>쯈u칠 es el hosting y el dominio?</span>
                        <svg class="w-5 h-5 faq-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                        </svg>
                    </summary>
                    <div class="faq-content">
                        <div class="px-4 pb-4 text-gray-700">
                            El <strong>dominio</strong> es la direcci칩n de tu sitio (ej: `paginasfast.com`). El
                            <strong>hosting</strong> es el espacio en internet donde se guardan los archivos de tu web
                            para que sea visible. En PaginasFast, podemos asesorarte para adquirir ambos, aunque el
                            costo de estos servicios es aparte de nuestros planes.
                        </div>
                    </div>
                </details>

                <details class="border rounded-lg overflow-hidden faq-item">
                    <summary
                        class="flex items-center justify-between w-full p-4 font-semibold cursor-pointer faq-summary">
                        <span>쮼n cu치nto tiempo estar치 lista mi p치gina?</span>
                        <svg class="w-5 h-5 faq-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                        </svg>
                    </summary>
                    <div class="faq-content">
                        <div class="px-4 pb-4 text-gray-700">
                            El plan "Web Emprendedor" suele tardar entre 5 y 7 d칤as h치biles. Los planes "Corporativo" o
                            "Tienda Online" pueden tomar de 10 a 15 d칤as h치biles, dependiendo de la complejidad y la
                            rapidez con la que recibamos el material (textos, im치genes) de tu parte.
                        </div>
                    </div>
                </details>

                <details class="border rounded-lg overflow-hidden faq-item">
                    <summary
                        class="flex items-center justify-between w-full p-4 font-semibold cursor-pointer faq-summary">
                        <span>쮺칩mo puedo contactar con ustedes?</span>
                        <svg class="w-5 h-5 faq-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                        </svg>
                    </summary>
                    <div class="faq-content">
                        <div class="px-4 pb-4 text-gray-700">
                            춰Es muy f치cil! Puedes agendar una llamada directamente desde el bot칩n en nuestra secci칩n de
                            <a href="#contacto" class="text-blue-600 hover:underline">Contacto</a>, o iniciar una
                            conversaci칩n con nuestro asistente virtual haciendo clic en el 칤cono de chat en la esquina
                            inferior derecha.
                        </div>
                    </div>
                </details>

            </div>
        </div>
    </section>

    <script type="application/ld+json">
        {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [{
            "@type": "Question",
            "name": "쯇or qu칠 mi negocio necesita una p치gina web?",
            "acceptedAnswer": {
            "@type": "Answer",
            "text": "Una p치gina web es tu vendedor 24/7. Te permite atraer clientes fuera de tu horario y ubicaci칩n, genera confianza profesional y te da una plataforma propia para mostrar tus productos o servicios sin depender de las comisiones o reglas de redes sociales."
            }
        },{
            "@type": "Question",
            "name": "쯈u칠 es el hosting y el dominio?",
            "acceptedAnswer": {
            "@type": "Answer",
            "text": "El dominio es la direcci칩n de tu sitio (ej: paginasfast.com). El hosting es el espacio en internet donde se guardan los archivos de tu web para que sea visible. En PaginasFast, podemos asesorarte para adquirir ambos, aunque el costo de estos servicios es aparte de nuestros planes."
            }
        },{
            "@type": "Question",
            "name": "쮼n cu치nto tiempo estar치 lista mi p치gina?",
            "acceptedAnswer": {
            "@type": "Answer",
            "text": "El plan 'Web Emprendedor' suele tardar entre 5 y 7 d칤as h치biles. Los planes 'Corporativo' o 'Tienda Online' pueden tomar de 10 a 15 d칤as h치biles, dependiendo de la complejidad y la rapidez con la que recibamos el material (textos, im치genes) de tu parte."
            }
        },{
            "@type": "Question",
            "name": "쮺칩mo puedo contactar con ustedes?",
            "acceptedAnswer": {
            "@type": "Answer",
            "text": "춰Es muy f치cil! Puedes agendar una llamada directamente desde el bot칩n en nuestra secci칩n de Contacto, o iniciar una conversaci칩n con nuestro asistente virtual haciendo clic en el 칤cono de chat en la esquina inferior derecha."
            }
        }]
        }
</script>




    <footer class="bg-gray-900 text-white">
        <div class="container mx-auto px-6 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
                <div>
                    <h3 class="text-xl font-bold mb-4"><span class="text-blue-500">Paginas</span>Fast.</h3>
                    <p class="text-gray-300">Convertimos tu presencia online en tu mayor activo de ventas.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Enlaces R치pidos</h3>
                    <ul class="space-y-2">
                        <li><a href="#servicios" class="text-gray-300 hover:text-white">Planes Web</a></li>
                        <li><a href="#portafolio" class="text-gray-300 hover:text-white">Proyectos</a></li>
                        <li><a href="#contacto" class="text-gray-300 hover:text-white">Cotizar</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contacto</h3>
                    <p class="text-gray-300">contacto@paginasfast.com</p>
                    <div class="flex justify-center md:justify-start space-x-4 mt-4">
                        <a href="#" class="text-gray-300 hover:text-white"
                            aria-label="Visita nuestro perfil de Twitter"><i data-feather="twitter"></i></a>
                        <a href="#" class="text-gray-300 hover:text-white"
                            aria-label="Visita nuestro perfil de LinkedIn"><i data-feather="linkedin"></i></a>
                        <a href="#" class="text-gray-300 hover:text-white"
                            aria-label="Visita nuestro perfil de Instagram"><i data-feather="instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="mt-12 border-t border-gray-800 pt-6 text-center text-gray-200">
                <p>&copy; 2024 PaginasFast. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <div id="chat-opener" class="chat-opener">
        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg" style="width: 32px; height: 32px;">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z">
            </path>
        </svg>
    </div>

    <div id="chat-window" class="chat-window">
        <div class="chat-header">
            <span class="chat-header-title">Asistente Virtual</span>
            <button id="chat-close-btn" class="chat-close-btn">&times;</button>
        </div>
        <div id="chat-messages" class="chat-messages">
            <div class="chat-bubble bot-bubble">
                춰Hola! 游녦 Soy WebExpert. 춰Tengo una oferta para ti! Si contratas tu web antes de que termine septiembre,
                tienes un <strong>30% de descuento</strong> y puedes empezar con solo <strong>$19.990</strong>.
                쮿ablamos de tu proyecto?
                <div class="quick-replies mt-3 flex flex-wrap gap-2">
                    <button class="quick-reply-btn">춰Quiero la oferta!</button>
                    <button class="quick-reply-btn" data-action="whatsapp">Contactar por WhatsApp</button>
                </div>
            </div>
        </div>
        <form id="chat-form" class="chat-input-form">
            <input type="text" id="user-input" placeholder="Escribe tu respuesta..." class="chat-input"
                autocomplete="one-time-code">
            <button type="submit" id="send-button" class="chat-send-btn" aria-label="Enviar mensaje">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" style="width: 20px; height: 20px;">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
            </button>
        </form>
    </div>

    <div id="contact-modal"
        class="modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div
            class="bg-white rounded-2xl p-8 max-w-md w-full relative transform scale-95 transition-transform duration-300">
            <button id="close-modal-btn"
                class="absolute top-4 right-4 text-gray-500 hover:text-black text-2xl">&times;</button>
            <h3 class="text-2xl font-bold text-gray-900 mb-2">Agendar una Llamada Estrat칠gica</h3>
            <p class="text-gray-600 mb-6">D칠janos tus datos y nos pondremos en contacto para definir c칩mo podemos
                ayudarte a crecer.</p>
            <form id="contact-form">
                <div class="mb-4">
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nombre</label>
                    <input type="text" id="name-modal" name="name" required
                        class="w-full p-3 bg-gray-100 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500">
                </div>
                <div class="mb-4">
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Correo Electr칩nico</label>
                    <input type="email" id="email-modal" name="email" required
                        class="w-full p-3 bg-gray-100 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500">
                </div>
                <div class="mb-6">
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Tel칠fono (Opcional)</label>
                    <input type="tel" id="phone-modal" name="phone"
                        class="w-full p-3 bg-gray-100 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500">
                </div>

                <button type="submit"
                    class="w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center min-h-[48px]">
                    <span class="btn-text">Enviar Solicitud</span>
                    <div class="loader loader-dark hidden"></div>
                </button>
            </form>
        </div>
    </div>

    <a href="https://api.whatsapp.com/send/?phone=56930153632&text=Hola%2C+necesito+m%C3%A1s+informaci%C3%B3n+para+crear+mi+p%C3%A1gina+web&type=phone_number&app_absent=0"
        id="boton-whatsapp-flotante" target="_blank" class="floating-whatsapp-btn" aria-label="Contactar por WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 175.216 175.552" width="30px" height="30px">
            <script xmlns="" id="eppiocemhmnlbhjplcgkofciiegomcon"></script>
            <script xmlns=""></script>
            <script xmlns=""></script>
            <defs>
                <linearGradient id="b" x1="85.915" x2="86.535" y1="32.567" y2="137.092" gradientUnits="userSpaceOnUse">
                    <stop offset="0" stop-color="#57d163"></stop>
                    <stop offset="1" stop-color="#23b33a"></stop>
                </linearGradient>
                <filter id="a" width="1.115" height="1.114" x="-.057" y="-.057" color-interpolation-filters="sRGB">
                    <feGaussianBlur stdDeviation="3.531"></feGaussianBlur>
                </filter>
            </defs>
            <path fill="#b3b3b3"
                d="m54.532 138.45 2.235 1.324c9.387 5.571 20.15 8.518 31.126 8.523h.023c33.707 0 61.139-27.426 61.153-61.135.006-16.335-6.349-31.696-17.895-43.251A60.75 60.75 0 0 0 87.94 25.983c-33.733 0-61.166 27.423-61.178 61.13a60.98 60.98 0 0 0 9.349 32.535l1.455 2.312-6.179 22.558zm-40.811 23.544L24.16 123.88c-6.438-11.154-9.825-23.808-9.821-36.772.017-40.556 33.021-73.55 73.578-73.55 19.681.01 38.154 7.669 52.047 21.572s21.537 32.383 21.53 52.037c-.018 40.553-33.027 73.553-73.578 73.553h-.032c-12.313-.005-24.412-3.094-35.159-8.954zm0 0"
                filter="url(#a)"></path>
            <path fill="#fff"
                d="m12.966 161.238 10.439-38.114a73.42 73.42 0 0 1-9.821-36.772c.017-40.556 33.021-73.55 73.578-73.55 19.681.01 38.154 7.669 52.047 21.572s21.537 32.383 21.53 52.037c-.018 40.553-33.027 73.553-73.578 73.553h-.032c-12.313-.005-24.412-3.094-35.159-8.954z">
            </path>
            <path fill="url(#linearGradient1780)"
                d="M87.184 25.227c-33.733 0-61.166 27.423-61.178 61.13a60.98 60.98 0 0 0 9.349 32.535l1.455 2.312-6.179 22.559 23.146-6.069 2.235 1.324c9.387 5.571 20.15 8.518 31.126 8.524h.023c33.707 0 61.14-27.426 61.153-61.135a60.75 60.75 0 0 0-17.895-43.251 60.75 60.75 0 0 0-43.235-17.929z">
            </path>
            <path fill="url(#b)"
                d="M87.184 25.227c-33.733 0-61.166 27.423-61.178 61.13a60.98 60.98 0 0 0 9.349 32.535l1.455 2.313-6.179 22.558 23.146-6.069 2.235 1.324c9.387 5.571 20.15 8.517 31.126 8.523h.023c33.707 0 61.14-27.426 61.153-61.135a60.75 60.75 0 0 0-17.895-43.251 60.75 60.75 0 0 0-43.235-17.928z">
            </path>
            <path fill="#fff" fill-rule="evenodd"
                d="M68.772 55.603c-1.378-3.061-2.828-3.123-4.137-3.176l-3.524-.043c-1.226 0-3.218.46-4.902 2.3s-6.435 6.287-6.435 15.332 6.588 17.785 7.506 19.013 12.718 20.381 31.405 27.75c15.529 6.124 18.689 4.906 22.061 4.6s10.877-4.447 12.408-8.74 1.532-7.971 1.073-8.74-1.685-1.226-3.525-2.146-10.877-5.367-12.562-5.981-2.91-.919-4.137.921-4.746 5.979-5.819 7.206-2.144 1.381-3.984.462-7.76-2.861-14.784-9.124c-5.465-4.873-9.154-10.891-10.228-12.73s-.114-2.835.808-3.751c.825-.824 1.838-2.147 2.759-3.22s1.224-1.84 1.836-3.065.307-2.301-.153-3.22-4.032-10.011-5.666-13.647">
            </path>
        </svg>
    </a>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Inicializar Feather Icons
            feather.replace();

            // L칩gica del men칰 m칩vil
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // --- L칍GICA DEL MODAL ---
            const modal = document.getElementById('contact-modal');
            const modalContent = modal.querySelector('div');
            const openModalBtn = document.getElementById('open-modal-btn');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const navContactBtn = document.getElementById('nav-contact-btn');
            const contactForm = document.getElementById('contact-form');

            const openModal = () => {
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.add('opacity-100');
                    modalContent.classList.add('scale-100');
                }, 10);
            };
            const closeModal = () => {
                modal.classList.remove('opacity-100');
                modalContent.classList.remove('scale-100');
                setTimeout(() => modal.classList.add('hidden'), 300);
            };
            if (openModalBtn) openModalBtn.addEventListener('click', openModal);
            if (navContactBtn) {
                navContactBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    openModal();
                });
            }
            if (closeModalBtn) closeModalBtn.addEventListener('click', closeModal);
            if (modal) {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeModal();
                });
            }
            if (contactForm) {
                contactForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const submitButton = contactForm.querySelector('button[type="submit"]');
                    const buttonText = submitButton.querySelector('.btn-text');
                    const buttonLoader = submitButton.querySelector('.loader');
                    submitButton.disabled = true;
                    buttonText.classList.add('hidden');
                    buttonLoader.classList.remove('hidden');
                    const name = document.getElementById('name-modal').value;
                    const email = document.getElementById('email-modal').value;
                    const phone = document.getElementById('phone-modal').value;
                    try {
                        const response = await fetch('/api/send-contact-form', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ name, email, phone }),
                        });
                        if (!response.ok) throw new Error('Fall칩 el env칤o del formulario');
                        window.dataLayer.push({ 'event': 'formulario_enviado_ok' });
                        alert(`춰Gracias ${name}! Hemos recibido tu solicitud y te contactaremos pronto.`);
                        closeModal();
                        contactForm.reset();
                    } catch (error) {
                        console.error('Error en el formulario de contacto:', error);
                        alert('Lo sentimos, ocurri칩 un error al enviar tu solicitud. Por favor, intenta de nuevo.');
                    } finally {
                        submitButton.disabled = false;
                        buttonText.classList.remove('hidden');
                        buttonLoader.classList.add('hidden');
                    }
                });
            }

            // --- L칍GICA DEL CHATBOT ---
            const chatOpener = document.getElementById('chat-opener');
            const chatWindow = document.getElementById('chat-window');
            const closeChatBtn = document.getElementById('chat-close-btn');
            const chatCTAs = document.querySelectorAll('.chat-cta');
            const chatFormEl = document.getElementById('chat-form');
            const userInput = document.getElementById('user-input');
            const chatMessages = document.getElementById('chat-messages');
            const sendButton = document.getElementById('send-button');

            const openChat = () => {
                chatWindow.classList.add('open');
                chatOpener.classList.add('hidden');
                setTimeout(() => userInput.focus(), 300);
            };

            // --- MODIFICACI칍N 1: L칍GICA DE CIERRE ---
            const closeChat = () => {
                chatWindow.classList.remove('open');
                chatOpener.classList.remove('hidden');

                // Si se cierra el chat antes de terminar, y se cumplen las condiciones, se env칤a el correo.
                if (interactionCount >= 3 && !conversationEnded && !inactivityEmailSent) {
                    sendPartialLeadSummary('INCOMPLETO_POR_CIERRE');
                }
            };
            // --- FIN MODIFICACI칍N 1 ---

            chatOpener.addEventListener('click', openChat);
            closeChatBtn.addEventListener('click', closeChat);
            chatCTAs.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    openChat();
                    const plan = btn.dataset.plan;
                    if (plan) {
                        setTimeout(() => {
                            const message = `Hola, estoy interesado en el plan "${plan}".`;
                            handleNewMessage(message);
                        }, 300);
                    }
                });
            });

            let conversationHistory = [];
            let conversationEnded = false;
            let interactionCount = 0;
            let inactivityTimer = null;
            let inactivityEmailSent = false;


            // --- C칍DIGO FALTANTE A AGREGAR ---
            chatFormEl.addEventListener('submit', (e) => {
                e.preventDefault();
                handleNewMessage(userInput.value.trim());
            });

            chatMessages.addEventListener('click', function (e) {
                if (e.target.classList.contains('quick-reply-btn')) {
                    // L칩gica para el bot칩n de WhatsApp
                    if (e.target.dataset.action === 'whatsapp') {
                        const whatsappUrl = document.getElementById('boton-whatsapp-flotante').href;
                        window.open(whatsappUrl, '_blank');
                        appendMessage('Contactar por WhatsApp', 'user');
                        setTimeout(() => appendMessage('춰Perfecto! Te estoy redirigiendo a WhatsApp para que hablemos directamente.', 'bot'), 500);
                        return;
                    }

                    // L칩gica para otros botones de respuesta r치pida
                    const messageText = e.target.textContent;
                    handleNewMessage(messageText); // Usamos handleNewMessage para que cuente como interacci칩n
                    e.target.parentElement.remove();
                }
            });
            // --- FIN DEL C칍DIGO A AGREGAR ---

            const initialBotMessage = "춰Hola! 游녦 Soy WebExpert. 쮺칩mo puedo ayudarte a potenciar tu negocio hoy?";
            conversationHistory.push({ role: 'model', parts: [{ text: initialBotMessage }] });

          async function handleNewMessage(message) {
                if (conversationEnded || !message) return;

                appendMessage(message, 'user');
                conversationHistory.push({ role: 'user', parts: [{ text: message }] });
                userInput.value = '';
                userInput.focus();

                interactionCount++;
                resetInactivityTimer();

                toggleLoading(true);

                // --- INICIO DE LA MODIFICACI칍N ---
                // Creamos una pausa m칤nima de 2 segundos.
                const minimumWait = new Promise(resolve => setTimeout(resolve, 2000));

                try {
                    // Hacemos la llamada a la IA y esperamos la pausa m칤nima al mismo tiempo.
                    const [botResponse] = await Promise.all([
                        getBotResponse(),
                        minimumWait
                    ]);

                    // El resto del c칩digo se ejecuta despu칠s de que ambas cosas (llamada y pausa) terminen.
                    processBotResponse(botResponse);
                    conversationHistory.push({ role: 'model', parts: [{ text: botResponse }] });

                    if (botResponse.includes("춰Excelente! He registrado tu informaci칩n.")) {
                        conversationEnded = true;
                        userInput.disabled = true;
                        userInput.placeholder = "Conversaci칩n finalizada.";
                        window.dataLayer.push({ 'event': 'chatbot_lead_generado' });
                        clearTimeout(inactivityTimer);
                        setTimeout(() => {
                            mostrarEnlaceWhatsAppBubble();
                        }, 1200);
                        await triggerSummaryGeneration();
                    }
                } catch (error) {
                    console.error("Error obteniendo respuesta del bot:", error);
                    appendErrorMessage();
                } finally {
                    toggleLoading(false);
                }
                // --- FIN DE LA MODIFICACI칍N ---
            }

            async function handleBotResponse(message) { // A침adimos 'message' como par치metro
                if (conversationEnded || !message) return;

                conversationHistory.push({ role: 'user', parts: [{ text: message }] });

                // --- L칍GICA A칌ADIDA ---
                interactionCount++;
                resetInactivityTimer();
                // -----------------------

                toggleLoading(true);
                try {
                    const botResponse = await getBotResponse();
                    conversationHistory.push({ role: 'model', parts: [{ text: botResponse }] });
                    processBotResponse(botResponse);
                    if (botResponse.includes("춰Excelente! He registrado tu informaci칩n.")) {
                        conversationEnded = true;
                        userInput.disabled = true;
                        userInput.placeholder = "Conversaci칩n finalizada.";
                        clearTimeout(inactivityTimer);
                        setTimeout(() => {
                            mostrarEnlaceWhatsAppBubble();
                        }, 1200);
                        await triggerSummaryGeneration();
                    }
                } catch (error) {
                    console.error("Error obteniendo respuesta del bot:", error);
                    appendErrorMessage();
                } finally {
                    toggleLoading(false);
                }
            }

            // --- MODIFICACI칍N 2: NUEVA L칍GICA DE TEMPORIZADOR Y ENV칈O ---
            function resetInactivityTimer() {
                clearTimeout(inactivityTimer);
                if (interactionCount >= 3 && !conversationEnded && !inactivityEmailSent) {
                    inactivityTimer = setTimeout(() => {
                        sendPartialLeadSummary('INCOMPLETO_POR_INACTIVIDAD');
                    }, 60000); // 1 minuto
                }
            }

            async function sendPartialLeadSummary(status) {
                if (inactivityEmailSent || conversationEnded) return;

                inactivityEmailSent = true; // Previene env칤os m칰ltiples
                clearTimeout(inactivityTimer); // Detiene el temporizador por si acaso

                const leadData = extractData(conversationHistory);
                const conversationText = formatConversation(conversationHistory);

                try {
                    const response = await fetch('/api/send-summary', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            leadData,
                            conversationText,
                            status: status
                        }),
                    });

                    if (response.ok) {
                        console.log(`Correo de lead parcial (${status}) enviado con 칠xito.`);
                    } else {
                        console.error(`Fallo al enviar correo de lead parcial (${status}). Estado: ${response.status}`);
                    }

                } catch (error) {
                    console.error(`Error de red al enviar el resumen por ${status}:`, error);
                }
            }
            // --- FIN MODIFICACI칍N 2 ---

            async function triggerSummaryGeneration() {
                if (inactivityEmailSent) {
                    console.log("El correo de lead parcial ya fue enviado, no se enviar치 el correo final.");
                    return;
                }
                appendMessage('<strong>Generando y enviando resumen del lead...</strong>', 'bot');
                try {
                    const leadData = extractData(conversationHistory);
                    const conversationText = formatConversation(conversationHistory);

                    const response = await fetch('/api/send-summary', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            leadData,
                            conversationText,
                            status: 'COMPLETADO'
                        }),
                    });

                    if (response.ok) {
                        console.log("Correo de lead completado enviado con 칠xito.");
                    } else {
                        console.error(`Fallo al enviar correo de lead completado. Estado: ${response.status}`);
                    }

                    appendMessage("춰Perfecto! Hemos enviado la informaci칩n a nuestro equipo. Te contactaremos pronto.", 'bot');
                } catch (error) {
                    console.error("Error en el proceso de env칤o de resumen:", error);
                    appendMessage("No pudimos enviar el resumen, pero guardamos tus datos. Un agente te contactar치.", 'bot');
                }
            }

            function extractData(history) {
                const data = {
                    nombre: "No proporcionado",
                    email: "No proporcionado",
                    telefono: "No proporcionado"
                };
                const emailRegex = /[\w\.-]+@[\w\.-]+\.\w+/;
                const phoneRegex = /(?:\+?56\s?)?(?:9\s?)?[\d\s-]{8,12}/;

                for (let i = 0; i < history.length; i++) {
                    const currentMsg = history[i];
                    if (currentMsg.role === 'user') {
                        const text = currentMsg.parts[0].text;
                        const prevMsg = history[i - 1];

                        const emailMatch = text.match(emailRegex);
                        if (emailMatch) {
                            data.email = emailMatch[0];
                            continue;
                        }

                        const phoneMatch = text.match(phoneRegex);
                        if (phoneMatch) {
                            data.telefono = phoneMatch[0].replace(/\s|-/g, '');
                            continue;
                        }

                        if (prevMsg && prevMsg.role === 'model' && prevMsg.parts[0].text.toLowerCase().includes('tu nombre')) {
                            data.nombre = text;
                        }
                    }
                }
                return data;
            }

            function formatConversation(history) {
                return history.map(msg => {
                    const prefix = msg.role === 'user' ? 'Cliente:' : 'WebExpert:';
                    return `${prefix} ${msg.parts[0].text.replace(/<[^>]*>/g, '')}`;
                }).join('\n');
            }


            function appendMessage(message, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('chat-bubble', sender === 'user' ? 'user-bubble' : 'bot-bubble');

                // MODIFICADO: Limpieza de caracteres extra침os y formato
                const formattedMessage = message
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // Markdown negrita
                    .replace(/\*/g, '') // Elimina asteriscos de it치licas u otros
                    // .replace(/(?<!<)\//g, '') // Elimina '/' que no sean de etiquetas HTML
                    .replace(/\n/g, '<br>'); // Saltos de l칤nea

                messageDiv.innerHTML = formattedMessage;
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            // NUEVO: Funci칩n para mostrar un mensaje de error con acciones
            function appendErrorMessage() {
                const errorDiv = document.createElement('div');
                errorDiv.classList.add('chat-bubble', 'bot-bubble');
                errorDiv.style.backgroundColor = '#4c1d1d'; // Un rojo m치s oscuro y sutil
                errorDiv.style.border = '1px solid #c2410c';

                const whatsappUrl = document.getElementById('boton-whatsapp-flotante').href;
                const contactModalTrigger = `document.getElementById('open-modal-btn').click(); document.getElementById('chat-close-btn').click();`;

                errorDiv.innerHTML = `
                <p style="margin-bottom: 0.75rem;">Ups, parece que mi conexi칩n fall칩 por un momento. 游땬</p>
                <p style="margin-bottom: 1rem;">No te preocupes, puedes contactarnos directamente por aqu칤:</p>
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <a href="${whatsappUrl}" target="_blank" class="quick-reply-btn" style="background-color: #25D366; text-align: center; display: block; text-decoration: none;">Contactar por WhatsApp</a>
                    <button onclick="${contactModalTrigger}" class="quick-reply-btn" style="background-color: #3b82f6; text-align: center; display: block; width: 100%;">Abrir Formulario de Contacto</button>
                </div>
            `;
                chatMessages.appendChild(errorDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            function processBotResponse(fullResponse) {
                const parts = fullResponse.split('[SPLIT]');
                let delay = 0;
                parts.forEach((part) => {
                    const message = part.trim();
                    if (message) {
                        setTimeout(() => {
                            appendMessage(message, 'bot');
                        }, delay);
                        delay += 800;
                    }
                });
                setTimeout(() => toggleLoading(false), delay);
            }


            function toggleLoading(isLoading) {
                const sendIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 20px; height: 20px;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>`;
                sendButton.disabled = isLoading;
                userInput.disabled = isLoading;
                sendButton.innerHTML = isLoading ? `<div class="loader"></div>` : sendIcon;

                // L칩gica para el indicador de "escribiendo..."
                const existingIndicator = document.getElementById('typing-indicator');
                if (isLoading && !existingIndicator) {
                    const indicatorDiv = document.createElement('div');
                    indicatorDiv.id = 'typing-indicator';
                    indicatorDiv.classList.add('chat-bubble', 'bot-bubble');
                    indicatorDiv.innerHTML = `
            <div class="typing-indicator">
                <span></span><span></span><span></span>
            </div>`;
                    chatMessages.appendChild(indicatorDiv);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                } else if (!isLoading && existingIndicator) {
                    existingIndicator.remove();
                }
            }

            async function callGemini(payload) {
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    throw new Error(`Error en la API: ${response.status}`);
                }
                const result = await response.json();
                console.log("Respuesta cruda de la API:", result);
                return result.candidates?.[0]?.content?.parts?.[0]?.text.trim() || "No he podido procesar eso. 쯇odemos intentarlo de nuevo?";
            }

            // --- INICIO DEL NUEVO C칍DIGO ---

            /**
             * Extrae el nombre del cliente y el plan seleccionado del historial de conversaci칩n.
             * @param {Array} historial - El array conversationHistory.
             * @returns {object} Un objeto con { nombre, plan }.
             */
            function extraerDatosDeConversacion(historial) {
                let nombre = null;
                let plan = null;

                // B칰squeda simple del plan
                const planRegex = /interesado en el plan "([^"]+)"/i;
                for (const mensaje of historial) {
                    if (mensaje.role === 'user') {
                        const match = mensaje.parts[0].text.match(planRegex);
                        if (match && match[1]) {
                            plan = match[1];
                            break; // Encontramos el plan, podemos parar de buscarlo
                        }
                    }
                }

                // B칰squeda simple del nombre (asumiendo que es una de las 칰ltimas respuestas del usuario)
                // Esto es una heur칤stica; podr칤a mejorarse si el bot siempre pregunta el nombre de la misma forma.
                for (let i = historial.length - 1; i >= 0; i--) {
                    const entrada = historial[i];
                    const entradaAnterior = historial[i - 1];
                    if (entrada.role === 'user' && entradaAnterior && entradaAnterior.role === 'model' && entradaAnterior.parts[0].text.toLowerCase().includes('tu nombre')) {
                        // Si el bot pregunt칩 por el nombre, la respuesta del usuario es probablemente el nombre.
                        nombre = entrada.parts[0].text;
                        break;
                    }
                }

                // Si no encontramos el nombre con el m칠todo anterior, intentamos buscarlo en el resumen del correo.
                if (!nombre) {
                    // Fallback: buscamos en los datos del formulario de contacto si existen.
                    const nombreModal = document.getElementById('name-modal')?.value;
                    if (nombreModal) {
                        nombre = nombreModal;
                    }
                }

                return { nombre, plan };
            }


            /**
             * Genera un enlace de WhatsApp con un mensaje din치mico y un respaldo por defecto.
             * @param {object} datos - Un objeto con los datos del cliente.
             * @param {string} [datos.nombre] - El nombre del cliente (opcional).
             * @param {string} [datos.plan] - El nombre del plan seleccionado (opcional).
             * @returns {string} La URL completa para la API de WhatsApp.
             */
            function generarEnlaceWhatsApp(datos = {}) {
                const telefono = "56930153632"; // Tu n칰mero de tel칠fono ya estaba en el HTML
                const mensajePorDefecto = "Hola, quiero comenzar con el desarrollo de mi web hoy.";

                let mensajeFinal = mensajePorDefecto;

                try {
                    const { nombre, plan } = datos;

                    if (nombre && plan) {
                        mensajeFinal = `Hola soy ${nombre} y quiero comenzar el desarrollo de mi web con el plan ${plan}.`;
                    } else if (nombre) {
                        mensajeFinal = `Hola, soy ${nombre} quiero comenzar con el desarrollo de mi web.`;
                    }
                    // Si no hay datos, se usa el mensaje por defecto.
                } catch (error) {
                    console.error("Error al construir el mensaje de WhatsApp, usando el predeterminado.", error);
                    mensajeFinal = mensajePorDefecto;
                }

                const mensajeCodificado = encodeURIComponent(mensajeFinal);
                return `https://api.whatsapp.com/send?phone=${telefono}&text=${mensajeCodificado}`;
            }

            /**
             * Orquesta la creaci칩n y muestra del bot칩n de WhatsApp en el chat.
             */
            function mostrarEnlaceWhatsAppBubble() {
                try {
                    // 1. Extraemos los datos de la conversaci칩n actual
                    const datosExtraidos = extraerDatosDeConversacion(conversationHistory);
                    console.log("Datos extra칤dos para WhatsApp:", datosExtraidos);

                    // 2. Generamos la URL de WhatsApp con esos datos
                    const finalUrl = generarEnlaceWhatsApp(datosExtraidos);

                    // 3. Creamos y mostramos la burbuja en el chat
                    const bubbleDiv = document.createElement('div');
                    bubbleDiv.classList.add('chat-bubble', 'bot-bubble');
                    bubbleDiv.style.backgroundColor = '#25D366'; // Verde WhatsApp
                    bubbleDiv.style.border = '1px solid #128C7E';
                    bubbleDiv.innerHTML = `<a href="${finalUrl}" target="_blank" style="color: white; text-decoration: underline; font-weight: bold;">Click aqu칤 para continuar en WhatsApp</a>`;

                    chatMessages.appendChild(bubbleDiv);
                    chatMessages.scrollTop = chatMessages.scrollHeight;

                } catch (error) {
                    console.error("Error al mostrar la burbuja de WhatsApp:", error);
                    // Si algo falla, el sistema es resiliente y no muestra nada roto.
                }
            }

            // --- FIN DEL NUEVO C칍DIGO ---

            async function getBotResponse() {
                const systemInstructionText = `
            [ROL] Eres "WebExpert", un consultor amigable y conciso de PaginasFast. Usas emojis sutilmente 游. Evitas textos largos y t칠cnicos.
            [OBJETIVO] Tu misi칩n es obtener Nombre, Email y Tel칠fono del usuario.
            [CONTEXTO] Vendemos p치ginas web optimizadas para aparecer primeros en Google. Tardamos desde 1 d칤a, manejamos 3 planes: Web Emprendedor (La mejor para comenzar), Web Corporativa (Para grandes empresas, chatbot Gratis) y Tienda Online.
            [OFERTA CLAVE] Menciona SIEMPRE al inicio sutilmente la oferta de Septiembre que termina ma침ana: 30% OFF y abono inicial de $19.990 CLP. 
            [REGLAS]
                - Divide respuestas largas con "[SPLIT]". La pregunta para pedir un dato (nombre, email) DEBE ir en un mensaje separado por [SPLIT].
                - Usa etiquetas <strong> para negrita.
                - Al obtener el correo y el tel칠fono, finaliza la conversaci칩n.

            `;
                const payload = {
                    contents: conversationHistory.slice(-8),
                    system_instruction: { parts: [{ text: systemInstructionText }] },
                    generationConfig: { temperature: 0.3, topP: 1, maxOutputTokens: 250 }
                };
                return await callGemini(payload);
            }

            // Pega estas dos nuevas funciones en tu script
            function resetInactivityTimer() {
                // Limpia el temporizador anterior
                clearTimeout(inactivityTimer);

                // Si ya se envi칩 un correo por inactividad, no hacemos nada m치s
                if (inactivityEmailSent || conversationEnded) {
                    return;
                }

                // Si el usuario ha interactuado al menos 3 veces, activamos el temporizador
                if (interactionCount >= 3) {
                    inactivityTimer = setTimeout(() => {
                        sendInactivitySummary();
                    }, 60000); // 60,000 milisegundos = 1 minuto
                }
            }

            async function sendInactivitySummary() {
                if (inactivityEmailSent || conversationEnded) return; // Doble chequeo por seguridad

                console.log("Usuario inactivo, enviando lead parcial...");
                inactivityEmailSent = true; // Marcamos que el correo ya fue enviado

                // Usamos las mismas funciones que ya creamos para extraer y formatear
                const leadData = extractData(conversationHistory);
                const conversationText = formatConversation(conversationHistory);

                try {
                    await fetch('/api/send-summary', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            leadData,
                            conversationText,
                            status: 'INCOMPLETO_POR_INACTIVIDAD' // Enviamos un estado para diferenciar el correo
                        }),
                    });
                } catch (error) {
                    console.error("Error enviando el resumen por inactividad:", error);
                }
            }

            async function triggerSummaryGeneration() {
                appendMessage('<strong>Generando y enviando resumen del lead...</strong>', 'bot');

                // --- INICIO DE LA NUEVA L칍GICA ---

                // 1. Funci칩n para extraer datos espec칤ficos con Regex
                function extractData(history) {
                    const data = {
                        nombre: "No proporcionado",
                        email: "No proporcionado",
                        telefono: "No proporcionado"
                    };
                    const emailRegex = /[\w\.-]+@[\w\.-]+\.\w+/;
                    const phoneRegex = /(?:\+?56\s?)?(?:9\s?)?[\d\s-]{8,12}/; // Regex para tel칠fonos chilenos

                    // Itera la conversaci칩n para encontrar los datos
                    for (let i = 0; i < history.length; i++) {
                        const currentMsg = history[i];
                        if (currentMsg.role === 'user') {
                            const text = currentMsg.parts[0].text;
                            const prevMsg = history[i - 1];

                            // Extraer Email
                            const emailMatch = text.match(emailRegex);
                            if (emailMatch) {
                                data.email = emailMatch[0];
                                continue; // Pasa al siguiente mensaje
                            }

                            // Extraer Tel칠fono
                            const phoneMatch = text.match(phoneRegex);
                            if (phoneMatch) {
                                data.telefono = phoneMatch[0].replace(/\s|-/g, ''); // Limpia el n칰mero
                                continue;
                            }

                            // Extraer Nombre (si el mensaje anterior del bot lo ped칤a)
                            if (prevMsg && prevMsg.role === 'model' && prevMsg.parts[0].text.toLowerCase().includes('tu nombre')) {
                                data.nombre = text;
                            }
                        }
                    }
                    return data;
                }

                // 2. Funci칩n para formatear el historial como texto plano
                function formatConversation(history) {
                    return history.map(msg => {
                        const prefix = msg.role === 'user' ? 'Cliente:' : 'WebExpert:';
                        return `${prefix} ${msg.parts[0].text.replace(/<[^>]*>/g, '')}`; // Limpia HTML
                    }).join('\n');
                }

                // --- FIN DE LA NUEVA L칍GICA ---

                try {
                    const leadData = extractData(conversationHistory);
                    const conversationText = formatConversation(conversationHistory);

                    // Enviamos el nuevo payload al backend
                    await fetch('/api/send-summary', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            leadData,
                            conversationText,
                            status: 'COMPLETADO' // Informa que este es el correo final
                        }),
                    });

                    // Confirmaci칩n para el usuario
                    appendMessage("춰Perfecto! Hemos enviado la informaci칩n a nuestro equipo. Te contactaremos pronto.", 'bot');

                } catch (error) {
                    console.error("Error en el proceso de env칤o de resumen:", error);
                    appendMessage("No pudimos enviar el resumen, pero guardamos tus datos. Un agente te contactar치.", 'bot');
                }
            }

            // L칩gica para FAQ
            const faqContainer = document.getElementById('faq-container');
            const detailsElements = faqContainer.querySelectorAll('details');
            detailsElements.forEach(details => {
                details.addEventListener('toggle', () => {
                    if (details.open) {
                        detailsElements.forEach(otherDetails => {
                            if (otherDetails !== details) otherDetails.removeAttribute('open');
                        });
                    }
                });
            });
        });
    </script>
</body>

</html>